CREATE TABLE vastaus (
	vastaus_id INT AUTO_INCREMENT,
	kysely_id INT,
	vastaus VARCHAR(255),
	vastaus_tyyppi VARCHAR(255),
	PRIMARY KEY (vastaus_id),
	FOREIGN KEY (kysely_id) REFERENCES kysely(id)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

CREATE TABLE kysely (
	id INT AUTO_INCREMENT,
	kysely_id INT,
	kysely_nimi VARCHAR(255),
	kysely_kysymys VARCHAR(255),
	PRIMARY KEY(id, kysely_id)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- MUISTA! console encoding latin1

INSERT INTO kysely
	(kysely_id, kysely_nimi, kysely_kysymys)
values
	('2', 'Testikysely', 'Onko kaikki hyvin'),
	('2', 'Testikysely' , 'Saadaanko projekti valmiiksi'),
	('2', 'Testikysely' , 'Random arvo'),
	('2', 'Testikysely' , 'Monivalinta');
	
INSERT INTO vastaus
	( kysely_id, vastaus, vastaus_tyyppi)
values
	(2,'Ei', 'String'),
	(2,'...', 'String'),
	(2,'1', 'Int'),
	(2,'1|2|1|1|1', 'Monivalinta');


-- SQL Kyselyt
select k.kysely_id, k.id, v.vastaus_id, k.kysely_nimi, k.kysely_kysymys, v.vastaus_tyyppi, v.vastaus 
from kysely k JOIN vastaus v on k.id=v.vastaus_id
where k.kysely_id = kysymys_id;

select count(distinct kysely_id) as kys_kpl from kysely;
	
	
	
	
	
	
	




