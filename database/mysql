
----------------------------

CREATE TABLE vastaus (
	vastaus_id INT AUTO_INCREMENT NOT NULL,
	kysymys_id INT NOT NULL,
	vastaus VARCHAR(255) NOT NULL,
	PRIMARY KEY (vastaus_id),
	FOREIGN KEY (kysymys_id) REFERENCES kysymys(kysymys_id)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;


CREATE TABLE kysymys (
	kysymys_id INT AUTO_INCREMENT NOT NULL,
	kysely_id INT NOT NULL,
	kysymys VARCHAR(255) NOT NULL,
	kysymys_tyyppi VARCHAR(255),
	PRIMARY KEY(kysymys_id),
	FOREIGN KEY (kysely_id) REFERENCES kysely(kysely_id)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

CREATE TABLE kysely (
	kysely_id INT AUTO_INCREMENT NOT NULL,
	kysely_nimi VARCHAR(255),
	kysely_deployed boolean NOT NULL default 0,
	PRIMARY KEY(kysely_id)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

INSERT INTO kysymys
	(kysely_id, kysymys, kysymys_tyyppi)
values
	('1', 'Testikysymys', 'String');
	
INSERT INTO vastaus
	(kysymys_id, vastaus)
values
	(1,'Jaa'),
	(2,'Joo'),
	(3,'Juusto'),
	(1,'Ehkä'),
	(2,'5'),
	(3,'Ravista uudelleen'),
	(4,'Ei');
	
INSERT INTO kysely
	(kysely_nimi)
values
	('Kysely1'),
	('Tyytyväisyyskysely'),
	('Testikysely1'),
	('Testikysely2');
	

// Hakee kaikki kyselyn kysymykset

select * from kysymys natural join kysely where kysely_id = 1;

// Hakee kaikki kyselyyn annetut vastaukset

select * from vastaus natural join kysymys where kysely_id = 1;
	
	
	
	
	
	




